"use strict";var frameworkModules=["ngRoute"],appModules=["templates"],allModules=[].concat(frameworkModules,appModules);angular.module("todolistApp",allModules),angular.module("todolistApp").config(["$routeProvider",function(e){e.when("/:listName",{templateUrl:"modules/todoList/todo-list.html",controller:"TodoListController"}).otherwise("/Home")}]).controller("AppController",["$scope","$route","$routeParams","$location",function(e,t,o,l){e.$route=t,e.$location=l,e.$routeParams=o}]);var baseUrl="http://localhost:6543";angular.module("todolistApp").controller("TodoListController",["$scope","$http","$routeParams","$httpParamSerializerJQLike",function(o,l,e,n){var a=e.listName||"Home";o.newItem="Default new item text",o.listItems=function(e){l.get(baseUrl+"/api/lists/get/"+e).then(function(e){e.data.result&&(o.items=e.data.object)})},o.listItems(a),o.toggleComplete=function(e){console.log("item clicked",e),e.completed=!e.completed;var t=baseUrl+"/api/lists/"+a+"/items/"+e.id+"/mark_complete",e={completed:e.completed?"1":"0"},e=n(e);l.post(t,e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){o.listItems(a)},function(e){console.log("Error: toggleComplete failed.")})},o.addItem=function(){console.log("addItem called"),console.log("item clicked",o.newItem);var e=baseUrl+"/api/lists/"+a+"/items/add",t={newItem:o.newItem},t=n(t);l.post(e,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){o.listItems(a)},function(e){console.log("Error: addItem failed.")})},o.delete=function(){console.log("delete button clicked");var e=baseUrl+"/api/lists/"+a+"/purge_completed";l.post(e).then(function(e){o.listItems(a)},function(e){console.log("Error: addItem failed.")})}}]);